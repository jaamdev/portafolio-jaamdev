<script>
	const $moon = document.querySelector(".moon");

	function darkButton() {
		const darkActive = window.localStorage.getItem("dark") ?? "false";

		const darkMode = darkActive === "true" ? true : false;

		darkMode ? $moon.classList.add("active") : $moon.classList.remove("active");

		$moon.addEventListener("click", () => {
			if (!$moon.classList.contains("active")) {
				$moon.classList.add("active");
				window.localStorage.setItem("dark", "true");
			} else {
				$moon.classList.remove("active");
				window.localStorage.setItem("dark", "false");
			}
		});
	}
	darkButton();
</script>

<svg class="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
	<title>Modo Oscuro</title>
	<path
		d="M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z"
		role="img"
		stroke="currentColor"
		stroke-linecap="round"
		stroke-linejoin="round"
		stroke-width="32"></path>
</svg>

<style>
	svg {
		width: 3rem;
		padding: 0.5rem;
		border: 0.15rem solid transparent;
		border-radius: 0.5rem;
		background-color: var(--secondary-color);
		position: fixed;
		top: 0.5rem;
		right: 0.5rem;
		z-index: 2;
		fill: transparent;
		cursor: pointer;
		transition: border 300ms;
	}

	svg:hover {
		border-color: #fff;
	}

	svg.active {
		fill: #fff;
		border-color: #fff;
	}
</style>
